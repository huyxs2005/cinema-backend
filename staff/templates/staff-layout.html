<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(pageTitle, bodyContent)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Cinema HUB Staff'">Cinema HUB Staff</title>
    <link rel="stylesheet" th:href="@{/vendor/bootstrap.min.css}" href="/vendor/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/vendor/bootstrap-icons/bootstrap-icons.min.css}" href="/vendor/bootstrap-icons/bootstrap-icons.min.css">
    <link rel="stylesheet" th:href="@{/staff/staff-ui.css}">
</head>
<body class="staff-theme">
<header class="staff-header">
    <div class="staff-header__brand">
        <a class="staff-brand-link" th:href="@{/staff/dashboard}">
            <div class="staff-brand-logo">HUB</div>
            <div class="staff-brand-copy">
                <span class="staff-brand-title">Cinema HUB</span>
                <small>Staff Control</small>
            </div>
        </a>
    </div>
    <div class="staff-header__actions">
        <div class="staff-greeting">
            <span th:text="'Xin chào, ' + (${currentUser != null ? currentUser.fullName : 'nhân viên'})">
                Xin chào, nhân viên
            </span>
        </div>
        <div class="user-menu" id="userMenuWrapper" th:classappend="${currentUser == null ? ' d-none' : ''}">
            <button class="user-menu-toggle" id="userMenuToggle" type="button">
                <span class="user-avatar" aria-hidden="true">
                    <span class="user-avatar__initial"
                          th:text="${currentUser != null && currentUser.fullName != null ? #strings.substring(currentUser.fullName,0,1) : 'H'}">H</span>
                </span>
                <span id="userMenuName"
                      th:text="${currentUser != null ? currentUser.fullName : 'Tài khoản'}">Tài khoản</span>
                <span class="chevron"></span>
            </button>
            <div class="user-menu-dropdown" id="userMenuDropdown">
                <button type="button" data-user-action="profile">Thông tin cá nhân</button>
                <button type="button" data-user-action="logout">Đăng xuất</button>
                <form id="logoutForm" th:action="@{/logout}" method="post"></form>
            </div>
        </div>
    </div>
</header>

<main class="staff-shell">
    <div class="staff-container" th:insert="${bodyContent}">Staff content</div>
</main>

<footer class="staff-footer">
    <div class="staff-footer__social">Facebook | Zalo | YouTube</div>
    <div class="staff-footer__copy">
        <p>Cơ quan chủ quản: Bộ Văn hóa, Thể thao và Du lịch</p>
        <p>Bản quyền thuộc Trung tâm Chiếu phim HUB</p>
        <p>Giấy phép số: 69420/GP-TTDT ngày 18/11/2025 - Chịu trách nhiệm: Trần Minh Huy - Bridge Software Engineer.</p>
        <p>Địa chỉ: FPT Complex Đà Nẵng, Hòa Hải, Ngũ Hành Sơn, Đà Nẵng 550000 - Điện thoại: 0905675437</p>
    </div>
</footer>

<script th:src="@{/vendor/bootstrap.bundle.min.js}" src="/vendor/bootstrap.bundle.min.js"></script>
<script th:src="@{/auth.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
window.CURRENT_USER = /*[[${currentUserPayload}]]*/ null;
/*]]>*/
</script>
</body>
</html>
