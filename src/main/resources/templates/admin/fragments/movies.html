<section id="crud-movies" class="admin-tab-panel" th:fragment="movies-panel">
            <div class="row g-4 flex-lg-row-reverse">
                <div class="col-lg-4 order-lg-2">
                    <div class="card bg-dark text-light shadow">
                        <div class="card-body">
                            <h2 class="h5 mb-3" id="movieFormTitle">Thêm phim mới</h2>
                            <form id="movieForm" novalidate>
                                <input type="hidden" id="movieId">
                                <div id="movieFormMessage" class="mb-3 small"></div>
                                <div class="mb-3">
                                    <label for="movieTitle" class="form-label">Tên phim <span class="text-danger">*</span></label>
                                    <input type="text" id="movieTitle" class="form-control" required>
                                    <div class="text-danger small mt-1" id="movieTitleError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieOriginalTitle" class="form-label">Tên gốc</label>
                                    <input type="text" id="movieOriginalTitle" class="form-control">
                                </div>
                                <div class="mb-3">
                                    <label for="movieDescription" class="form-label">Mô tả</label>
                                    <textarea id="movieDescription" rows="3" class="form-control"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="movieDuration" class="form-label">Thời lượng (phút) <span class="text-danger">*</span></label>
                                    <input type="number" min="1" max="900" id="movieDuration" class="form-control" inputmode="numeric" pattern="[0-9]*" maxlength="3" data-numeric-only="true" required>
                                    <div class="text-danger small mt-1" id="movieDurationError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieAgeRating" class="form-label">Giới hạn độ tuổi <span class="text-danger">*</span></label>
                                    <select id="movieAgeRating" class="form-select" required>
                                        <option value="">-- Chọn --</option>
                                        <option value="P">P (Mọi lứa tuổi)</option>
                                        <option value="K">K (Dưới 13 cần người giám hộ)</option>
                                        <option value="T13">T13 (13+)</option>
                                        <option value="T16">T16 (16+)</option>
                                        <option value="T18">T18 (18+)</option>
                                    </select>
                                    <div class="text-danger small mt-1" id="movieAgeRatingError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieReleaseDate" class="form-label">Ngày khởi chiếu <span class="text-danger">*</span></label>
                                    <input type="date" id="movieReleaseDate" class="form-control" required>
                                    <div class="text-danger small mt-1" id="movieReleaseDateError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieEndDate" class="form-label">Ngày ngừng chiếu <span class="text-danger">*</span></label>
                                    <input type="date" id="movieEndDate" class="form-control" required>
                                    <div class="text-danger small mt-1" id="movieEndDateError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieImdbUrl" class="form-label">IMDb URL</label>
                                    <input type="url" id="movieImdbUrl" class="form-control">
                                </div>
                                <div class="mb-3">
                                    <label for="movieTrailerUrl" class="form-label">Trailer URL</label>
                                    <input type="text" id="movieTrailerUrl" class="form-control">
                                </div>
                                <div class="mb-3">
                                    <label for="movieTrailerEmbedUrl" class="form-label">YouTube embed URL</label>
                                    <input type="url" id="movieTrailerEmbedUrl" class="form-control" placeholder="https://www.youtube.com/embed/xyz">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Poster <span class="text-danger">*</span></label>
                                    <div class="image-upload-field">
                                        <input type="text" id="moviePoster" class="form-control" placeholder="/uploads/movies/abc.jpg" readonly>
                                        <button type="button" class="btn btn-outline-light" id="selectMoviePosterBtn">Chọn ảnh</button>
                                        <input type="file" id="moviePosterFile" accept="image/*" hidden>
                                    </div>
                                    <div class="text-danger small mt-1" id="moviePosterError"></div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Thể loại <span class="text-danger">*</span></label>
                                    <div class="dropdown w-100 genre-dropdown">
                                        <button class="btn btn-outline-light w-100 text-start dropdown-toggle" type="button" id="genreDropdownBtn">
                                            <span id="genreDropdownLabel">Chọn thể loại</span>
                                        </button>
                                        <div class="dropdown-menu dropdown-menu-dark w-100 p-2" aria-labelledby="genreDropdownBtn" style="max-height: 260px; overflow-y: auto;" id="genreCheckboxList"></div>
                                    </div>
                                    <div class="text-danger small mt-1" id="genreDropdownBtnError"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="movieDirectors" class="form-label">Đạo diễn</label>
                                    <input type="text" id="movieDirectors" class="form-control" placeholder="Tên đạo diễn, cách nhau bằng dấu phẩy">
                                </div>
                                <div class="mb-4">
                                    <label for="movieActors" class="form-label">Diễn viên</label>
                                    <input type="text" id="movieActors" class="form-control" placeholder="Tên diễn viên, cách nhau bằng dấu phẩy">
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-danger flex-grow-1">Lưu phim</button>
                                    <button type="button" class="btn btn-outline-light" id="resetMovieFormBtn">Làm mới</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 order-lg-1">
                    <div class="card bg-dark text-light shadow">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h2 class="h5 mb-0">Danh sách phim</h2>
                                <span class="badge bg-secondary" id="movieCount">0 items</span>
                            </div>
                            <form class="mb-3" id="movieFilterForm">
                                <div class="row g-2 align-items-end mb-2">
                                    <div class="col-lg-7 col-md-8">
                                        <label for="movieSearchKeyword" class="form-label">Từ khóa</label>
                                        <input type="text" class="form-control" id="movieSearchKeyword" placeholder="Nhập tên phim hoặc tên gốc">
                                    </div>
                                    <div class="col-lg-5 col-md-4 d-flex align-items-end gap-2 justify-content-end">
                                        <button type="submit" class="btn btn-outline-light flex-grow-1">Lọc</button>
                                        <button type="button" class="btn btn-outline-secondary flex-grow-1" id="movieFilterReset">Xóa lọc</button>
                                        <button class="btn btn-outline-light flex-grow-1" type="button" data-bs-toggle="collapse" data-bs-target="#movieAdvancedFilters" aria-expanded="false" aria-controls="movieAdvancedFilters">
                                            Bộ lọc nâng cao
                                        </button>
                                    </div>
                                </div>
                                <div class="collapse mb-3" id="movieAdvancedFilters">
                                    <div class="row g-2 align-items-end">
                                        <div class="col-lg-4 col-md-6">
                                            <label for="movieDurationOrder" class="form-label">Thời lượng</label>
                                            <select class="form-select" id="movieDurationOrder">
                                                <option value="">Mặc định</option>
                                                <option value="length_asc">Tăng dần</option>
                                                <option value="length_desc">Giảm dần</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <label for="movieGenreFilter" class="form-label">Thể loại</label>
                                            <select class="form-select" id="movieGenreFilter">
                                                <option value="">Tất cả</option>
                                                <option value="Bí ẩn">Bí ẩn</option>
                                                <option value="Ca nhạc">Ca nhạc</option>
                                                <option value="Chính kịch">Chính kịch</option>
                                                <option value="Gia đình">Gia đình</option>
                                                <option value="Giật gân (Thriller)">Giật gân (Thriller)</option>
                                                <option value="Hài">Hài</option>
                                                <option value="Hành động">Hành động</option>
                                                <option value="Hoạt hình">Hoạt hình</option>
                                                <option value="Hồi hộp (Suspense)">Hồi hộp (Suspense)</option>
                                                <option value="Khoa học viễn tưởng">Khoa học viễn tưởng</option>
                                                <option value="Kinh dị">Kinh dị</option>
                                                <option value="Phiêu lưu">Phiêu lưu</option>
                                                <option value="Tâm lý">Tâm lý</option>
                                                <option value="Thần thoại">Thần thoại</option>
                                                <option value="Tình cảm">Tình cảm</option>
                                                <option value="Tội phạm">Tội phạm</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <label for="movieStatusFilter" class="form-label">Trạng thái</label>
                                            <select class="form-select" id="movieStatusFilter">
                                                <option value="">Tất cả</option>
                                                <option value="NowShowing">Đang chiếu</option>
                                                <option value="ComingSoon">Sắp chiếu</option>
                                                <option value="Stopped">Ngừng chiếu</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <label for="movieAgeFilter" class="form-label">Giới hạn tuổi</label>
                                            <select class="form-select" id="movieAgeFilter">
                                                <option value="">Tất cả</option>
                                                <option value="P">P - Mọi lứa tuổi</option>
                                                <option value="K">K - Cần người giám hộ</option>
                                                <option value="T13">T13 - 13+</option>
                                                <option value="T16">T16 - 16+</option>
                                                <option value="T18">T18 - 18+</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="table-responsive">
                                <table class="table table-dark table-striped align-middle" id="moviesTable">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Tiêu đề</th>
                                        <th>Thời lượng</th>
                                        <th>Giới hạn tuổi</th>
                                        <th>Khởi chiếu</th>
                                        <th>Ngừng chiếu</th>
                                        <th>Thể loại</th>
                                        <th>Thao tác</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td colspan="8" class="text-center py-4 text-light">Đang tải dữ liệu...</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
